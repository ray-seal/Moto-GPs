<!DOCTYPE html>
<html>
  <head>
    <title>MotoGPs Navigation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
      rel="stylesheet"
      href=https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    />
    <style>
      #map {
        height: 100vh;
        width: 100%;
      }
      </style>
  </head>
  <body>
    <div id="map></div>

      <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></div>script>
    <script>
      const apiKey = 'YOUR_OPENROUTESERVICE_API_KEY';

      const map = L.map('map').setView([0,0] 13);
      const tileLayer = L.tileLayer(
        'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png,
        {
        maxZoom: 19,
          attribution: '&copy; OpenStreetMap contributors'
      }
      ).addTo(map);

      // Show user location
      navigator.geolocation.getCurrentPosition(success, error);

      function success(position) {
        const lat = position.coords.latitude;
        const lng = position.coords.longitude;

      getRoute([lng,lat], [destLng, destLat]);
      }

      function error() {
        alert('Unable to retrive your location');
      }

      function getRoute(start, end) {
        fetch(https://api.openrouteservice.org/v2/directions/driving-car/geojson', {
              method: 'POST',
          headers: {
          'Authorisation': apiKey,
            'Content-Type': 'application/json'
        },
      body:JSOM.stringify({
        coordinates: [start, end]
      })
      })
      .then(res => res.json())
      .then(data => {
        const route = L.geoJSON(data, {
          style: {
            color: 'blue',
            weight: 4
          }
        }).addTo(map);

            const bounds = route.getBounds();
        map.fitBounds(bounds);
      });
      }
</script>
  </body>
</html>
